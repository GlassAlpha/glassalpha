# Customer Segmentation Audit Configuration
# Example configuration for auditing multi-class customer segmentation models
# Focuses on marketing compliance and consumer privacy regulations

audit_profile: customer_segmentation

# Reproducibility for regulatory compliance
reproducibility:
  random_seed: 42

# Dataset configuration
data:
  path: ~/.glassalpha/data/customer_segmentation.csv
  target_column: customer_segment
  protected_attributes:
    - age
    - income

# XGBoost model for multi-class segmentation
model:
  type: xgboost
  params:
    objective: multi:softmax
    eval_metric: mlogloss
    n_estimators: 100
    max_depth: 6
    learning_rate: 0.1
    subsample: 0.8
    colsample_bytree: 0.8
    random_state: 42

# Explanation configuration
explainers:
  strategy: first_compatible
  priority:
    - treeshap    # XGBoost supports TreeSHAP for exact explanations
    - kernelshap  # Fallback for any model type
  config:
    treeshap:
      max_samples: 1000
      check_additivity: true

# Multi-class specific metrics
metrics:
  performance:
    metrics:
      - accuracy
      - precision_macro    # Average precision across all segments
      - recall_macro       # Average recall across all segments
      - f1_macro          # Macro-averaged F1 score

  fairness:
    metrics:
      - demographic_parity    # Equal representation in each segment
      - equal_opportunity     # Equal classification accuracy across groups
    config:
      demographic_parity:
        threshold: 0.05  # Maximum 5% difference in segment distribution
      equal_opportunity:
        threshold: 0.05

# Professional audit report
report:
  template: standard_audit
